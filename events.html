<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events - Smart Calendar</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-calendar-alt"></i> Smart Calendar</h1>
            <div class="tricolor"></div>
            <p class="subtitle">Manage Your Events</p>
        </header>

        <nav>
            <div class="nav-links">
                <a href="index.html" class="nav-link"><i class="fas fa-home"></i> Home</a>
                <a href="events.html" class="nav-link active"><i class="fas fa-calendar"></i> Calendar</a>
                <a href="#add-event" class="nav-link"><i class="fas fa-plus-circle"></i> Add Event</a>
                <a href="#my-events" class="nav-link"><i class="fas fa-list"></i> My Events</a>
            </div>
            <div class="user-actions">
                <div id="userMenu" style="display: none;">
                    <span id="userName"><i class="fas fa-user"></i> User</span>
                    <button class="btn btn-secondary" onclick="window.location.href='profile.html'">
                        <i class="fas fa-user-cog"></i> Profile
                    </button>
                    <button class="btn btn-secondary" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
                <button class="btn btn-secondary" onclick="window.location.href='login.html'" id="loginBtn">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
            </div>
        </nav>

        <!-- Calendar View -->
        <div class="calendar-container" id="calendarView">
            <div class="calendar-header">
                <h2 id="currentMonth">January 2024</h2>
                <div class="calendar-nav">
                    <button id="prevMonth"><i class="fas fa-chevron-left"></i> Previous</button>
                    <button id="todayBtn">Today</button>
                    <button id="nextMonth">Next <i class="fas fa-chevron-right"></i></button>
                    <div class="view-options">
                        <button class="view-btn active" data-view="month">Month</button>
                        <button class="view-btn" data-view="week">Week</button>
                        <button class="view-btn" data-view="list">List</button>
                    </div>
                </div>
            </div>

            <div class="week-days">
                <div>Sun</div>
                <div>Mon</div>
                <div>Tue</div>
                <div>Wed</div>
                <div>Thu</div>
                <div>Fri</div>
                <div>Sat</div>
            </div>

            <div class="calendar-grid" id="calendarGrid">
                <!-- Calendar days will be generated by JavaScript -->
            </div>
        </div>

        <!-- Add Event Section -->
        <div class="form-container" id="addEventSection" style="display: none;">
            <div class="form-header">
                <h2><i class="fas fa-plus-circle"></i> Add New Event</h2>
                <p>Create and manage your events</p>
            </div>
            <form id="eventForm">
                <div class="form-group">
                    <label for="eventTitle"><i class="fas fa-heading"></i> Event Title</label>
                    <input type="text" id="eventTitle" name="eventTitle" required placeholder="e.g., Diwali, Republic Day, etc." />
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="startDate"><i class="fas fa-calendar-plus"></i> Start Date</label>
                        <input type="date" id="startDate" name="startDate" required />
                    </div>
                    <div class="form-group">
                        <label for="endDate"><i class="fas fa-calendar-minus"></i> End Date</label>
                        <input type="date" id="endDate" name="endDate" required />
                    </div>
                </div>
                <div class="form-row">
                <div class="form-group">
                    <label for="startTime">Start Time</label>
                    <input type="time" id="startTime" name="startTime" value="09:00" />
                </div>
                <div class="form-group">
                    <label for="endTime">End Time</label>
                    <input type="time" id="endTime" name="endTime" value="17:00" />
                </div>
            </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="eventCategory"><i class="fas fa-tag"></i> Category</label>
                        <select id="eventCategory" name="eventCategory">
                            <option value="festival">Festival</option>
                            <option value="national">National Holiday</option>
                            <option value="religious">Religious</option>
                            <option value="cultural">Cultural</option>
                            <option value="personal">Personal</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="eventPriority"><i class="fas fa-exclamation-circle"></i> Priority</label>
                        <select id="eventPriority" name="eventPriority">
                            <option value="high">High</option>
                            <option value="medium" selected>Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="eventDescription"><i class="fas fa-file-alt"></i> Description</label>
                    <textarea id="eventDescription" name="eventDescription" rows="4" placeholder="Describe the event, traditions, significance..."></textarea>
                </div>

                <div class="form-group">
                    <label for="eventLocation"><i class="fas fa-map-marker-alt"></i> Location/Celebration</label>
                    <input type="text" id="eventLocation" name="eventLocation" placeholder="e.g., Home, Temple, Nationwide" />
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="showCalendarView()">Cancel</button>
                    <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save Event</button>
                </div>
            </form>
        </div>

        <!-- My Events Section -->
        <div class="form-container" id="myEventsSection" style="display: none;">
            <div class="form-header">
                <h2><i class="fas fa-list"></i> My Events</h2>
                <p>Manage your created events</p>
            </div>
            <div id="userEventsList">
                <!-- User events will be loaded here -->
            </div>
        </div>

        <!-- AI Chat Assistant -->
        <div class="ai-assistant">
            <button class="ai-toggle" id="aiToggle">
                <i class="fas fa-robot"></i>
            </button>
            <div class="ai-chat-container" id="aiChatContainer">
                <div class="ai-chat-header">
                    <h3><i class="fas fa-robot"></i> AI Assistant</h3>
                    <button class="close-ai"><i class="fas fa-times"></i></button>
                </div>
                <div class="ai-chat-messages" id="aiChatMessages">
                    <div class="ai-message ai-message-bot">
                        <p>Hello! I'm your calendar assistant. How can I help you with event planning today?</p>
                    </div>
                </div>
                <div class="ai-chat-input">
                    <input type="text" id="aiChatInput" placeholder="Ask me about events, scheduling, or planning...">
                    <button id="aiSendBtn"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Event Modal -->
    <div class="modal" id="eventModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle"><i class="fas fa-calendar-plus"></i> Add Event</h3>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <form id="modalEventForm">
                <input type="hidden" id="modalSelectedDate" name="modalSelectedDate" />
                <input type="hidden" id="modalEventId" name="modalEventId" />

                <div class="form-group">
                    <label for="modalEventTitle">Event Title</label>
                    <input type="text" id="modalEventTitle" name="modalEventTitle" required placeholder="e.g., Diwali, Republic Day, etc." />
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="modalStartDate">Start Date</label>
                        <input type="date" id="modalStartDate" name="modalStartDate" required />
                    </div>
                    <div class="form-group">
                        <label for="modalEndDate">End Date</label>
                        <input type="date" id="modalEndDate" name="modalEndDate" required />
                    </div>
                </div>
                <div class="form-row">
                <div class="form-group">
                    <label for="startTime">Start Time</label>
                    <input type="time" id="startTime" name="startTime" value="09:00" />
                </div>
                <div class="form-group">
                    <label for="endTime">End Time</label>
                    <input type="time" id="endTime" name="endTime" value="17:00" />
                </div>
            </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="modalEventCategory">Category</label>
                        <select id="modalEventCategory" name="modalEventCategory">
                            <option value="festival">Festival</option>
                            <option value="national">National Holiday</option>
                            <option value="religious">Religious</option>
                            <option value="cultural">Cultural</option>
                            <option value="personal">Personal</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="modalEventPriority">Priority</label>
                        <select id="modalEventPriority" name="modalEventPriority">
                            <option value="high">High</option>
                            <option value="medium" selected>Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="modalEventDescription">Description</label>
                    <textarea id="modalEventDescription" name="modalEventDescription" rows="4" placeholder="Describe the event, traditions, significance..."></textarea>
                </div>

                <div class="form-group">
                    <label for="modalEventLocation">Location/Celebration</label>
                    <input type="text" id="modalEventLocation" name="modalEventLocation" placeholder="e.g., Home, Temple, Nationwide" />
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="modalCancelBtn">Cancel</button>
                    <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save Event</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/calendar.js"></script>
    <script src="js/ai-assistant.js"></script>
</body>
</html>